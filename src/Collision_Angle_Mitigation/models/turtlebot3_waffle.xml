<mujoco model="turtlebot3_waffle">
  <compiler angle="radian"/>

  <worldbody>
    <geom size="0.133 0.133 0.047" pos="-0.064 0 0.057" type="box" rgba="0.4 0.4 0.4 1"/>
    <geom size="0.015 0.0045 0.01" pos="-0.177 -0.0639992 0.005" quat="0.707388 -0.706825 0 0" type="box"/>
    <geom size="0.015 0.0045 0.01" pos="-0.177 0.0640008 0.005" quat="0.707388 -0.706825 0 0" type="box"/>
    <geom size="0.055 0.01575" pos="-0.049 0 0.1255" type="cylinder" rgba="0.3 0.3 0.3 1"/>
    <geom size="0.006 0.066 0.01" pos="0.067 0 0.111" type="box"/>
    <body name="${namespace}wheel_left_link" pos="0 0.144 0.033" quat="0.707388 -0.706825 0 0">
      <inertial pos="0 0 0" quat="-0.000890159 0.706886 0.000889646 0.707326" mass="0.0284989" diaginertia="2.07126e-05 1.11924e-05 1.11756e-05"/>
      <joint name="${namespace}wheel_left_joint" pos="0 0 0" axis="0 0 1"/>
      <geom size="0.033 0.009" type="cylinder" rgba="0.3 0.3 0.3 1"/>
    </body>
    <body name="${namespace}wheel_right_link" pos="0 -0.144 0.033" quat="0.707388 -0.706825 0 0">
      <inertial pos="0 0 0" quat="-0.000890159 0.706886 0.000889646 0.707326" mass="0.0284989" diaginertia="2.07126e-05 1.11924e-05 1.11756e-05"/>
      <joint name="${namespace}wheel_right_joint" pos="0 0 0" axis="0 0 1"/>
      <geom size="0.033 0.009" type="cylinder" rgba="0.3 0.3 0.3 1"/>
    </body>
  </worldbody>
  <ros2_control name="MujocoSystem" type="system">
    <hardware>
      <plugin>mujoco_ros2_control/MujocoSystem</plugin>
    </hardware>
    <joint name="wheel_left_joint">
      <command_interface name="velocity"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
    <joint name="wheel_right_joint">
      <command_interface name="velocity"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
  </ros2_control>

  <gazebo>
    <plugin name="mujoco_ros2_control" filename="libmujoco_ros2_control.so">
      <parameters>$(find Collision_Angle_Mitigation)/params/nav2_params.yaml</parameters>
    </plugin>
  </gazebo>

  <mujoco_ros2_control>
    <parameters>$(find Collision_Angle_Mitigation)/params/nav2_params.yaml</parameters>
  </mujoco_ros2_control>
</mujoco>
